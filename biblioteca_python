biblioteca = []

import matplotlib.pyplot as plt
# Classe para representar um livro
class livro:
    def __init__(self, titulo, autor, ano_publicacao, genero, quantidade):
        self.titulo = titulo
        self.autor = autor
        self.ano_publicacao = ano_publicacao
        self.genero = genero
        self.quantidade = quantidade

    def __str__(self):
        return f"{self.titulo} por {self.autor}, Publicado em {self.ano_publicacao} do genero {self.genero} a quantidade disponivel é {self.quantidade}"


# Função para adicionar um livro à biblioteca
def adicionar_livro(titulo, autor ,ano_publicacao, genero, quantidade ):
    novo_livro = livro (titulo, autor ,ano_publicacao, genero, quantidade )
    biblioteca.append(novo_livro)
    print(f"O livro '{titulo}' foi adicionado à biblioteca.")

# Função para listar todos os livros na biblioteca
def listar_livros():
    print("\n Livros na Biblioteca:\n")
    for livro in biblioteca:
        print(livro)


# Adicionar alguns livros à biblioteca
adicionar_livro("Além do Bem e do Mal", "Friedrich Nietzsche", 1886, "Filosofia", 5)
adicionar_livro("Crítica da Razão Pura", "Immanuel Kant", 1781, "Filosofia", 3)
adicionar_livro("Mindhunter", "John Douglas", 1995, "True Crime", 7)
adicionar_livro("Brasil: Nunca Mais", "Paulo Evaristo Arns", 1995, "História", 2)

# Listar todos os livros na biblioteca
listar_livros()

# Criar gráfico de livros por ano
anos = [livro.ano_publicacao for livro in biblioteca]  # pega os anos
anos.sort()

# Contagem de livros por ano
contagem_por_ano = [anos.count(ano) for ano in anos]

# Criar gráfico de linha
plt.plot(anos, contagem_por_ano, marker='o', linestyle='-')
plt.xlabel('Ano de Publicação')
plt.ylabel('Número de Livros')
plt.title('Distribuição de Livros na Biblioteca por Ano de Publicação')

# Adicionar rótulos nos pontos
for i, valor in enumerate(contagem_por_ano):
    plt.text(anos[i], valor, str(valor), ha='center', va='bottom')

plt.grid(True)
plt.show()
